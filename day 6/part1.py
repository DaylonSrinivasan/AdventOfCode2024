input = """................#......#...........#...........................#......#...........#........................................#......
.......................................................................................#........#............#.............#.....#
#.......................#...#..........#...........#........#.......................#............#................................
.............#...............................................#........#................................#....#......#..............
...#..................................#......................#....#....................................#.................#........
...................#.....#......#...........#............................#......................#.#........................#......
...........................#..#...........#.............................#.........#.##.............#..............................
.#.................#................#..........##.........##..............#...................................................#...
...............................#......................#........#.......................#.........#...........#....................
...................................#................#.............................................................................
..#...............##.......#................#.#......#...........#................................................................
....#.#.....#..............#........##........................##...........................................#...............#......
.....................#..........#.................................#.....................................#.........................
..............#.........................................##......#.......................#..............#.................#..#.....
...........#...#..........................................................#.......#.............................#................#
................................#.#...............#...............................#..............##...............................
.........................................................#............#......................................#.................#..
......#.#....#.................................#....###..................#......#.........#....#..................................
..............#...................................#..........#............#.......#...............................................
..............#......#...............#.............................................#.............................................#
....#.#..............#................#......................................................................#....................
........................................................#...........#..#.#.....................#....#.....#........#...#.......#..
..............#.......#................#............................#..#.......#.........#...........#...#...#....#....#.....#....
...#...............................................................................................#..#..#..........#.............
.......#.........#..###..................................##...............##..#.......................#..........#...........#...#
.......#.....................#.............#...........#...............................................#.................#........
..........#............................#..............................#......#..#.........#...............................#.......
.............................#...............#............#..............................................................#........
...........#...................#......#......................#.......................#...............#......#.....................
..#..............................................#.........................#.............#...#.#..................................
................#.............................#....................................#.....#...................#..#.....#...........
#............................#...#........................#................#....#.............................................#...
...............#.............#........#...................................................................#.......#....#..#.......
...........#......#.....#........................#.#..........................................#............#......................
.#.....................................................#...............#.........................#................#...........#...
.........................................#.............#......#.#....................................................#.........#..
................................#...#......................................................#..........................#..........#
.#.........................#..............#.#.....................................................................................
.........#..........#.............##.........#..#.................#........................#.....#.##....................#........
...................................................................................#...........................................#..
................#..........................................#...#...#.................................................#.........#..
..............................................#..............#..................#......#...#....#..#..............................
......#......#.................#.............#..................#...............#.............#..................#...............#
.................................#.......#......#.......#.............................................................#........#..
..................#......#...................................#.................#.......#..........................................
....................#.........#.........................#..........#..........#..................#................................
..........#...........#...............#.#..................................................................................#......
..................#..#....................................................#..........#......#................................#....
............#.................................................................................................#........#..........
.........#...............................................#.........##...........................#.................................
...#.........#........................................................#....................................#......................
........#......................#......#............#........#...............#.......................#.............................
.......#..............................................................................................#....................#......
.#.#..........#.......#.............##......................#..........................................................#..........
............#.#...........#............................................................#..........................................
............#..........................................................................#....................#...............#.....
.......................#.....#...#........................................#.......#.........#.........................#...........
....................#..............#......#.......................................................................................
......................#....................................................................#...............#...#............#.....
........#..........#....................#...#........#......#..........................#....#..................#..#...............
................#...........................................................................................................#.....
.#...............#..........................................................................................#......#..#.#.........
..............#................#...............#.........#.........#................................#.#...........................
...#................#..............#........................#...#.......................................#.#.......................
#.........................................#..#....................................................................#...............
.............#...........#.......#.#.....................................................................#.....#..................
.............#..............................................................................#.....................................
........................#........#....#........#.#.............................................^..........#.......................
...............................#.......................................................#.............##.......#.......#...........
#.#..............#..........................................#.......#..........................................#..................
...##...............................#........#.............##..................................................#..................
..#..#.................................................................#............#...#...#.....................................
....................#.#...#............#.......#.............#.......#..............#.............................................
..#..#.........#.............................................................................#......................#...#.........
....................................................#.........................#..#...#.#.#......#...............................#.
......#.....#.....................................................................#..............................................#
....................#........#..........................................................#.......#........................#........
................#.........................#...........................#...........................................#..............#
..#.......#..................................................#..................................#.................................
..........#.....................#...#.#...........#....................................#..........................................
.....................................#...........................................................#..........#...................#.
....#............................#.........................................#.........................#............................
......#............#...........#......#.#..................................#......................................................
..................#.......#.....#......#.................................................................#................#.......
...........#.....#........................................................#.............#.........................................
.................................#...........................#........#.........#............#.............................#.....#
..#........................#.................................#....................................................................
......................................................................................................#........#.#...#............
#............................#..........#.#.....................#.............................................................#...
.......#.......#................#..........#..........................#........#....#...#........................................#
....#.....#..........................................................#.........................#....................#..#.......#..
.......#.............#.................................#...................................................................#......
...............#.......................................#.#...............................#.#..........#...........................
....#......#...#.#.........................#...............#...........#.......#........................................#..#......
...................#.........................................#.....................................................#..#.....#...#.
....#......#.#.............................#..........##........#......................#.#.......................#....#...........
........#.........................#........#.#..........................##..............#....#....................................
.............#.....#..........#.....#.......#..##...#.....................#..................................#....................
....#....#...........................#...........#....................#.....#.......#....#.........#.....#....#...................
............#...#....................#..........#.......#......#............#.........................#............##.............
.....................#.................................................................####.......................................
...#...........................................................................#......#..............#....#.......#...............
....#...#...#.....................#.............#..............................#...................#...........#..................
............................#...........#........#.............#..................................................................
...#.....#......#.....................#...........................................#...........#........#..........................
.................#...........................#................................................................#..........#........
.....................#........#...#...................................................................................#......#....
.#...............................#...#....#.................#...#......#..........................................................
....................#..........#.........................................#....................#.........#.........................
.......#.............#............#................#..........#.#.#.....................#............#.....................#......
......................#.........................#.................#...........................#................#..................
...#....#..........................#.#..##.................#..#..........#..............................................#.........
...........#.........................................................................................#.............#..............
..............#.................##...........#..#.............................................#..............................#....
...............................................##.......#..#.....#........#...#.............#.....................#...............
........#...................#...........#...............................#............................................#........#...
...................................#.....#......................#...#.........##..#...................#.#.........................
............#...........##............#.......................#.....#.......#...................#.................................
..#..#..............................#.......#.........#.....................................#.............#..#.................#..
..................#..................#..........................##..................#...#.......#.........#..................#....
.........#.........#..............................................#...........................................................#...
......................#...........#..................................#............................#......#.....#..................
.....#....#......#..................#.....#..............#.............................................#.....#....................
..............##...........#........................................................................#........#.#..................
..........#...............................##.......#............#.#.........#.....................................#....#..........
.................................#..............#.............................#........................................#..........
....................#.................#..........#..............#.......................#...................................#.....
............#..............................#.............................#......#......#......................#...#...............
.#..........#...............#..................................................................#....#.............................
....#............................................#......#..................#.....#............#.........................#........."""

def parse(input):
    # array of strings
    return input.split("\n")

def getInitialPos(map):
    for r in range(len(map)):
        for c in range(len(map[r])): 
            if map[r][c] == '^':
                return r, c
    return -1, -1

directions = [
    (-1, 0), # index 0 = up
    (0, 1), # index 1 = right
    (1, 0), # index 2 = down
    (0, -1) # index 3 = left
]

def solution(map):
    visited = set()
    r, c = getInitialPos(map)
    dir = 0
    while(r >= 0 and r < len(map) and c >= 0 and c < len(map[r])):
        visited.add((r, c))
        next_r = r + directions[dir][0]
        next_c = c + directions[dir][1]
        while (next_r >= 0 and next_r < len(map) and next_c >= 0 and next_c < len(map[next_r]) and map[next_r][next_c] == '#'):
            dir = (dir + 1) % 4
            next_r = r + directions[dir][0]
            next_c = c + directions[dir][1]
        r = next_r
        c = next_c
    return len(visited)
    

def main():
    print(solution(parse(input)))
    
main()